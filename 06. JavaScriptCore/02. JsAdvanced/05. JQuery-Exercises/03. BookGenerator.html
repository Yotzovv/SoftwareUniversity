<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Book Generator</title>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
        crossorigin="anonymous"></script>
</head>

<body>
    <div id="wrapper">

    </div>
    <script>

        let createBook = (function bookGenerator() {
            let id = 1;
            return function (selector, title, author, isbn) {
                selector = $(selector);
                let div = $(`<div id=book${id}></div>`);
                div.append($(`<p class="title">${title}</p>`))
                div.append($(`<p class="author">${author}</p>`))
                div.append($(`<p class="isbn">${isbn}</p>`))
                let selectBtn = $('<button>Select</button>');
                selectBtn.click(onSelect);
                let deselect = $('<button>Deselect</button>');
                deselect.click(onDeselect);
                div.append(selectBtn).append(deselect);
                selector.append(div);
                id++;
            }

            function onSelect(event) {
                let targetDiv = $(event.target).parent();
                targetDiv.css('border', '2px solid blue');
            }

            function onDeselect(event) {
                let targetDiv = $(event.target).parent();                
                targetDiv.css('border', '');
            }
        }());



        window.onload = function () {
            createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);
            createBook("#wrapper", "Alice in Wonderland", "Lewis Carroll", 1111);

        }
    </script>
</body>

</html>